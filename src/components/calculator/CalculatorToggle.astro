---
interface Props {
  options: [string, string];
  activeIndex: number;
  id: string;
  ariaLabel: string;
  class?: string;
}

const { options, activeIndex, id, ariaLabel, class: className } = Astro.props;
const [option1, option2] = options;
---

<div class:list={["segmented", className]} role="group" aria-label={ariaLabel}>
  <button
    id={`${id}-0`}
    class:list={[
      "segmented-btn",
      activeIndex === 0
        ? "bg-accent-primary text-inverse"
        : "text-secondary hover:text-primary",
    ]}
    aria-pressed={activeIndex === 0}
  >
    {option1}
  </button>
  <button
    id={`${id}-1`}
    class:list={[
      "segmented-btn",
      activeIndex === 1
        ? "bg-accent-primary text-inverse"
        : "text-secondary hover:text-primary",
    ]}
    aria-pressed={activeIndex === 1}
  >
    {option2}
  </button>
</div>

<style>
  .segmented {
    display: inline-flex;
    border-radius: 0.5rem;
    background-color: rgb(30, 41, 59);
    padding: 0.25rem;
    gap: 0.25rem;
  }

  .segmented-btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: 0.375rem;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
  }
</style>

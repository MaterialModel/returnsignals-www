---
/**
 * ProblemSection — Variant 1
 * Signal → Concierge response (keeps stats, improves tone + exchange framing)
 */
import FullViewportSection from "@layouts/FullViewportSection.astro";
import ProblemListMobile from "./ProblemListMobile.astro";
import ProblemListDesktop from "./ProblemListDesktop.astro";

interface Props {
  className?: string;
}

const { className = "" } = Astro.props;

const items = [
  {
    stat: "39%",
    statNote: "of return requests",
    problem: "Fit uncertainty",
    problemDesc: "Wrong size or cut for their preferences.",
    solution: "Thoughtful personal sizing advice",
    solutionDesc:
      "Confirm the issue then recommend the best size or a better-fitting style.",
  },
  {
    stat: "28%",
    statNote: "of return requests",
    problem: "Expectation mismatch",
    problemDesc: "Color or fabric not as expected.",
    solution: "Check their photo, listen to their story",
    solutionDesc: "Help them find what they will love.",
  },
  {
    stat: "$27",
    statNote: "avg. handling cost",
    problem: "Quality concern",
    problemDesc: "Minor flaw or a real defect.",
    solution: "Photo-based resolution",
    solutionDesc: "Decide the right fix: replace, rework, or keep-it.",
  },
];
---

<FullViewportSection class={className}>
  <div id="problem-section" class="problem-wrapper">
    <!-- Header -->
    <div class="text-center mb-10 sm:mb-14">
      <h2 class="section-title mb-4">Turn returns into loyalty</h2>
      <p
        class="text-lg sm:text-xl text-primary leading-relaxed max-w-3xl mx-auto"
      >
        When something isn’t right, customers remember how you respond.
      </p>
    </div>

    <!-- Mobile view -->
    <div class="mobile-only">
      <ProblemListMobile items={items} />
    </div>

    <!-- Desktop view -->
    <div class="desktop-only">
      <ProblemListDesktop items={items} />
    </div>

    <!-- Outcome -->
    <div class="outcome">
      <p class="outcome-text">
        A good return experience leads to 3x more repeat purchases.
      </p>
      <a href="/roi" class="btn btn-primary mt-6"> Calculate your ROI </a>
    </div>
  </div>
</FullViewportSection>

<style>
  .problem-wrapper {
    max-width: 56rem;
    margin: 0 auto;
    padding-top: 2rem;
    padding-bottom: 4rem;
  }
  @media (min-width: 640px) {
    .problem-wrapper {
      padding-top: 0;
      padding-bottom: 0;
    }
  }

  /* Responsive visibility */
  .mobile-only {
    display: block;
  }
  @media (min-width: 640px) {
    .mobile-only {
      display: none;
    }
  }

  .desktop-only {
    display: none;
  }
  @media (min-width: 640px) {
    .desktop-only {
      display: block;
    }
  }

  /* Outcome callout */
  .outcome {
    margin-top: 3rem;
    text-align: center;
    background-color: var(--color-surface-subtle);
    padding: 2rem 1.5rem;
    border-radius: 0.5rem;
  }
  @media (min-width: 640px) {
    .outcome {
      margin-top: 4rem;
      padding: 2.5rem 3rem;
    }
  }

  .outcome-text {
    font-size: 1.25rem;
    line-height: 1.65;
    color: var(--color-text-primary);
    font-style: italic;
  }
  @media (min-width: 640px) {
    .outcome-text {
      font-size: 1.375rem;
    }
  }
</style>

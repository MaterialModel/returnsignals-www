---
/**
 * HowItWorksSection
 *
 * Section 7: "How Return Signals works"
 * Typography-driven, no cards — just clean numbered steps
 */

interface Props {
  className?: string
}

const { className = '' } = Astro.props

const steps = [
  {
    title: 'Check in after delivery',
    description: 'A proactive SMS that feels human, not automated. Low-effort for the customer.',
  },
  {
    title: "Follow up on their timeline",
    description: "If they haven't tried it yet, no problem. Snooze, schedule, check back later.",
  },
  {
    title: 'Resolve issues with text + photo',
    description: 'Quick troubleshooting when possible. Photo confirmation when needed to see what they see.',
  },
  {
    title: 'Route to the right outcome',
    description: 'Exchange, return, scrap at customer, ship for rework, or restock—based on policy and item economics.',
  },
]
---

<section class={`relative py-20 sm:py-32 overflow-hidden ${className}`}>
  <!-- Subtle gradient background: white → hint of color → white -->
  <div class="absolute inset-0 bg-surface-base"></div>
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-blue-50/30 to-transparent"></div>

  <div class="relative max-w-4xl mx-auto px-6 sm:px-8">

    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-normal tracking-tight text-primary mb-6 animate-on-scroll">
      How it works
    </h2>

    <p class="text-lg text-secondary mb-16 max-w-2xl animate-on-scroll">
      Not magic—just a workflow designed to resolve issues before they become returns.
    </p>

    <!-- Steps as typography -->
    <div class="space-y-12 sm:space-y-16">
      {steps.map((step, i) => (
        <div class="grid grid-cols-[auto,1fr] gap-6 sm:gap-8 animate-on-scroll">
          <!-- Number -->
          <div class="text-5xl sm:text-6xl font-light text-tertiary/50 leading-none pt-1">
            {i + 1}
          </div>

          <!-- Content -->
          <div>
            <h3 class="text-xl sm:text-2xl font-medium text-primary mb-2">
              {step.title}
            </h3>
            <p class="text-base sm:text-lg text-secondary leading-relaxed max-w-xl">
              {step.description}
            </p>
          </div>
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div class="text-center mt-16 sm:mt-20 animate-on-scroll">
      <div class="inline-block bg-surface-base border border-border rounded-lg p-8 sm:p-12 shadow-soft">
        <h3 class="text-2xl sm:text-3xl font-normal tracking-tight text-primary mb-4">
          Want to pilot this?
        </h3>

        <p class="text-base sm:text-lg text-secondary mb-8 max-w-md mx-auto">
          We're working with a few brands to refine the product. If you own post-purchase, let's talk.
        </p>

        <a
          href="https://form.typeform.com/to/sJUkURjA"
          target="_blank"
          rel="noopener noreferrer"
          class="btn btn-primary btn-lg"
        >
          Request pilot
        </a>
      </div>
    </div>

  </div>
</section>
